rishabhy-yiannig
Project 2 Final Writeup

Following the Beta submission, my partner and I decided to start by reading the anonymized code that was released alongside the project scores. We read through the top four submissions separately, then came together to discuss the main improvements that could be made. We realized that the biggest improvement would result from checking for intersections between bounding boxes of the lines, before calling the computationally-instensive intersect() function. After making this change, we also realized that we had misinterpreted the bounds on line coordinates that are highlighted in line.h. We realized that we based the initial width and height of the quadtree on the graphic display in pixels, rather than the BOX_MIN and BOX_MAX values. This meant that our beta submission constructed quadtrees that were largely empty and unused. Changing this was incredibly simple in our code. These two changes improved our performance by 3-4 times.

The rest of our approach stayed very similar to our beta sumission, constructing a quadtree that partitioned the lines into more localized boxes to avoid unnecessary intersection checks. We experimented changing some of our cilk parallelism by looking at the CILKSCALE visualizations, but decided not to change any of that code. We also responded to the comments from our MIT POSSE and refactored some of the code base and removed unused code that was mistakenly left in for the beta. Our meetings with the MIT POSSE were very helpful for this reason. They told us what was confusing about our code to them as a reader. They also told us that there was a particular performance bottleneck that resulted in a slow beta time fro test case 4 and we should try writing tests to find that bottleneck. These comments were incredibly useful for us.